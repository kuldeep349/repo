<!--
including header content which is common for all pages
-->
<%- include ../../adminlayouts/header.ejs %>
<div class="content-wrapper">
    <section class="content-header">
        <h1>
          Add Topic
        </h1>

    </section>
    <div class="col-md-8">


      <% if (messages.error) { %>
          <p style="color:red"><%- messages.error %></p>
      <% } %>

      <% if (messages.success) { %>
          <p style="color:green"><%- messages.success %></p>
      <% } %>

      <form class="form-horizontal" action="/admin/topic/addtopic" method="post" name="form2">
            <div class="form-group">
              <label class="control-label col-sm-2" for="class_name">Board Name:</label>
              <div class="col-sm-10">
                <select class="form-control" name="board_id" id="board_id">
                  <option disabled selected> choose board</option>
                  <% if (locals.data) {
                      %>
                  <% locals.data.forEach(function(cl){
                      %>
                  <option value="<%= cl.id %>"><%= cl.board_name %></option>
                  <% }) %>
                  <% } %>
                </select>
            </div>
           </div>
           <div class="form-group">
             <label class="control-label col-sm-2" for="class_name">Choose Class:</label>
             <div class="col-sm-10">
               <select class="form-control" name="class_id" id="class_id">

               </select>
           </div>
          </div>
          <div class="form-group">
            <label class="control-label col-sm-2" for="class_name">Subject Name:</label>
            <div class="col-sm-10">
              <select name="subject_id" id="subject_id" class="form-control">
                  </select>
          </div>
         </div>
         <div class="form-group">
            <label class="control-label col-sm-2" for="class_name">Topic Name:</label>
            <div class="col-sm-10">
              <input type="text" name="topic_name" name="topic_id" class="form-control"/>
          </div>
         </div>
         <div class="form-group">
            <label class="control-label col-sm-2" for="class_name">Topic Description:</label>
            <div class="col-sm-10">
              <textarea name="text_name" name="text_id"  class="form-control"></textarea>
          </div>
         </div>

            <button type="submit" class="btn btn-primary pull-right">Add</button>
          </form>

    </div>
  </div>



<!--
including footer content which is common for all pages
-->
<%- include ../../adminlayouts/footer.ejs %>
<script>
$(document).on('change','#board_id',function(){
  var html = '';
  $.get('/admin/class/show_class?id='+$(this).val(),function(res){
    $.each(res,function(key,val){
      html += '<option value="'+val.id+'">'+val.class_name+'</option>';
    })
      $('#class_id').html(html)
  })
})

$(document).on('change','#class_id',function(){
    
  var html = '';
  $.get('/admin/subject/show_subject?id='+$(this).val(),function(res){
    $.each(res,function(key,val){
      html += '<option value="'+val.id+'">'+val.subject_name+'</option>';
    })
      $('#subject_id').html(html)
  })
})
</script>
